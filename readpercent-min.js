(function(a){function b(c){var e=a(window).scrollTop()-(a(c).offset().top-a(window).height());var d=(e*100)/a(c).height();d=Math.min(100,Math.max(0,d));return d}a.fn.readpercent=function(f,e){var d=this.selector,c;if(!f){return b(d)}else{if(f===true){return ~~b(d)}else{a(window).bind("scroll.globalMessage",{receiver:f,container:d},function(g){c=b(g.data.container);if(e){a(f+" "+e).css("width",c+"%")}else{a(f).val(c)}})}}}}(jQuery));